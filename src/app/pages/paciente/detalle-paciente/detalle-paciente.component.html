<mat-card class="cardWithShadow theme-card">
  <mat-card-header>
    <mat-card-title class="m-b-0">Detalles del Paciente</mat-card-title>
  </mat-card-header>
  <mat-card-content class="b-t-1">
    <div class="row">
      <!-- Información del Paciente -->
        <div *ngIf="editMode" class="mb-4">
          <h4>Editar Paciente</h4>
          <form (ngSubmit)="guardarCambios()" #pacienteForm="ngForm">
            <mat-form-field class="w-100" appearance="outline">
              <mat-label>Nombre</mat-label>
              <input matInput [(ngModel)]="paciente!.nombre" name="nombre" required/>
            </mat-form-field>
            <mat-form-field class="w-100" appearance="outline">
              <mat-label>Apellido Paterno</mat-label>
              <input matInput  [(ngModel)]="paciente!.apellidoPaterno" name="apellidoPaterno" required/>
            </mat-form-field>
            <mat-form-field class="w-100" appearance="outline">
              <mat-label>Apellido Materno</mat-label>
              <input matInput  [(ngModel)]="paciente!.apellidoMaterno" name="apellidoMaterno" required/>
            </mat-form-field>
            <mat-form-field class="w-100" appearance="outline">
              <mat-label>Apellido Materno</mat-label>
              <input matInput  [(ngModel)]="paciente!.apellidoMaterno" name="apellidoMaterno" required/>
            </mat-form-field>
            <mat-label class="mat-subtitle-2 f-s-14 f-w-600 m-b-12 d-block">Fecha de nacimiento</mat-label>
            <mat-form-field class="form-field">
              <mat-hint>MM/DD/AAAA</mat-hint>
                <input matInput [(ngModel)]="paciente!.fechaDisplay" required >
                <mat-datepicker-toggle matIconSuffix ></mat-datepicker-toggle>
                <mat-datepicker #fechaDisplay></mat-datepicker>
          </mat-form-field>
            <div class="mb-3">
              <label for="email" class="form-label">Fecha de Nacimiento</label>
              <input type="date" id="birthdate" class="form-control" [(ngModel)]="paciente!.fechaDisplay" name="birthdate" required>
            </div>
            <div class="mb-3">
              <label for="telefono" class="form-label">Teléfono</label>
              <input type="phone" id="birthdate" class="form-control" [(ngModel)]="paciente!.telefono" name="telefono" required>
            </div>
  
          <div class="d-md-flex justify-content-start align-items-center mb-4 py-2">
            <div class="mb-0 me-4" style="color: #6a1b9a;">Genero: </div>
            <div class="form-check form-check-inline mb-0 me-4">
              <input class="form-check-input"
              [(ngModel)]="paciente!.sexo"  type="radio" name="sexo" id="femaleGender" value="female" />
              <label class="form-check-label" for="femaleGender">Femenino</label>
            </div>
            <div class="form-check form-check-inline mb-0 me-4">
              <input class="form-check-input"
              [(ngModel)]="paciente!.sexo"  type="radio" name="sexo" id="maleGender" value="male" />
              <label class="form-check-label" for="maleGender">Masculino</label>
            </div>
            <div class="form-check form-check-inline mb-0">
              <input class="form-check-input"
              [(ngModel)]="paciente!.sexo"  type="radio" name="sexo" id="otherGender" value="other" />
              <label class="form-check-label" for="otherGender">Otro</label>
            </div>
          </div>
  
          <div class="d-md-flex justify-content-start align-items-center mb-4 py-2">
            <div class="mb-0 me-4" style="color: #6a1b9a;">Estado Civil: </div>
            <div class="form-check form-check-inline mb-0 me-4">
              <input class="form-check-input"
              [(ngModel)]="paciente!.estadoCivil"  type="radio" name="estadoCivil" id="solteroEC" value="female" />
              <label class="form-check-label" for="solteroEC">Soltero</label>
            </div>
            <div class="form-check form-check-inline mb-0 me-4">
              <input class="form-check-input"
              [(ngModel)]="paciente!.estadoCivil"  type="radio" name="estadoCivil" id="casadoEC" value="male" />
              <label class="form-check-label" for="casadoEC">Casado</label>
            </div>
            <div class="form-check form-check-inline mb-0">
              <input class="form-check-input"
              [(ngModel)]="paciente!.estadoCivil"  type="radio" name="estadoCivil" id="separadoEC" value="other" />
              <label class="form-check-label" for="separadoEC">Separado</label>
            </div>
          </div>
  
          <div class="mb-3">
            <label for="ocupacion" class="form-label">Ocupacion</label>
            <input type="text" id="ocupacion" class="form-control"  [(ngModel)]="paciente!.ocupacion" name="ocupacion" required>
          </div>
          <div class="mb-3">
            <label for="notasAdicionales" class="form-label">Notas Adicionales</label>
            <input type="text" id="notasAdicionales" class="form-control"  [(ngModel)]="paciente!.notasAdicionales" name="notasAdicionales" >
          </div>
  
  
  
  
            <button type="submit" class="btn btn-primary" (click)="guardarCambios()">Guardar Cambios</button>
            <button type="button" class="btn btn-secondary ms-2" (click)="cancelarEdicion()">Cancelar</button>
          </form>
        </div>
        
 



      <div class="col-lg-7" *ngIf="!editMode">
        <!-- --------------------------------------------------- -->
        <!-- two line -->
        <!-- --------------------------------------------------- -->
        <mat-card class="b-1 shadow-none">
          <mat-card-header>
            <mat-card-title>Paciente</mat-card-title>
          </mat-card-header>
          <mat-card-content class="b-t-1">
            <mat-list>
              <mat-list-item>
                <span matListItemTitle class="f-s-16 f-w-600">Nombre</span>
                <span matListItemLine class="mat-body-1">{{ paciente?.nombre + " " + paciente?.apellidoMaterno + " " + paciente?.apellidoPaterno}}</span>
              </mat-list-item>
              <mat-list-item>
                <span matListItemTitle class="f-s-16 f-w-600">Edad</span>
                <span matListItemLine class="mat-body-1">{{ paciente?.edad }}</span>
              </mat-list-item>
              <mat-list-item>
                <span matListItemTitle class="f-s-16 f-w-600">Ocupación</span>
                <span matListItemLine class="mat-body-1">{{ paciente?.ocupacion }}</span>
              </mat-list-item>
              <mat-list-item>
                <span matListItemTitle class="f-s-16 f-w-600">Teléfono</span>
                <span matListItemLine class="mat-body-1">{{ paciente?.telefono }}</span>
              </mat-list-item>
              <mat-list-item>
                <span matListItemTitle class="f-s-16 f-w-600">Fecha de Registro</span>
                <span matListItemLine class="mat-body-1">{{ paciente?.fechaRegistro }}</span>
              </mat-list-item>
            </mat-list>
            <button class="btn btn-warning btn-sm me-2" (click)="activarEdicion()">
              <i class="bi bi-pencil"></i> Modificar Paciente
            </button>
            <button class="btn btn-danger btn-sm" (click)="eliminarPaciente()">
              <i class="bi bi-trash"></i> Eliminar Paciente
            </button>
          </mat-card-content>
        </mat-card>
      </div>



      <div class="col-lg-5">
        <!-- --------------------------------------------------- -->
        <!-- two line -->
        <!-- --------------------------------------------------- -->
        <mat-card class="b-1 shadow-none">
          <mat-card-header>
            <mat-card-title>Citas</mat-card-title>
          </mat-card-header>
          <mat-card-content class="b-t-1">
            <table class="table table-striped">
              <thead>
                <tr>
                  <th>Fecha</th>
                  <th>Hora</th>
                  <th>Descripción</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let cita of citas">
                  <td>{{ cita.fecha }}</td>
                  <td>{{ cita.hora }}</td>
                  <td>{{ cita.descripcion }}</td>
                  <td>
                    <!-- Puedes agregar botones para modificar y eliminar citas aquí si es necesario -->
                  </td>
                </tr>
              </tbody>
            </table>
            <div class="mt-4">
              <button class="btn btn-primary" routerLink="/diario/{{paciente?.idPaciente}}"  >
                <i class="bi bi-journal-bookmark"></i> Diario
              </button>
              <button class="btn btn-secondary" (click)="volverALaLista()">
                <i class="bi bi-arrow-left"></i> Volver a la Lista de Pacientes
              </button>
            </div> 
          </mat-card-content>
        </mat-card>
      </div>



  
      <!-- Citas del Paciente -->
      <div  class="col-lg-3" >
        <h4>Citas</h4>
        
      </div>
    </div>
  
    <!-- Botones de acción -->
        
  </mat-card-content>
</mat-card>

  